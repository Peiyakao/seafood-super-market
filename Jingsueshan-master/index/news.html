<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../src/news.css">
    <title>金速鱻最新消息</title>
</head>

<body>
    <header>
        <div>
            <h1 class="logo"><a href="https://peiyakao.github.io/Jingsueshan/"></a></h1>
            <button class="ham">
                <p class="ham-1"></p>
                <p class="ham-2"></p>
                <p class="ham-3"></p>
            </button>
            <nav>
                <ul class="navigator">
                    <li class="navigator-li">
                        <a href="https://peiyakao.github.io/Jingsueshan/">首頁</a>



                    </li>
                    <li class="navigator-li">
                        <a href="https://peiyakao.github.io/Jingsueshan/index/shoping_center">新鮮漁市</a>

                    </li>
                    <li class="navigator-li"><a href="https://peiyakao.github.io/Jingsueshan/index/news">最新消息</a></li>
                    <li class="navigator-li">
                        <a href="https://peiyakao.github.io/Jingsueshan/index/seafood_guild">海鮮指南</a>

                    </li>
                    <li class="navigator-li"><a
                            href="https://peiyakao.github.io/Jingsueshan/index/membercenter">會員中心</a></li>
                </ul>

            </nav>

        </div>
    </header>
    <div class="wrapper">
        <section class="main-top">
            <h1>新聞快訊</h1>
            <article>
                <div class="main-top-left">
                    <div class="main-right-movie">
                        <div class="main-right-movie-control ">
                            <div class="mov">
                                <iframe class="mov1 item" width="576" height="350"
                                    src="https://www.youtube.com/embed/d1TsVjMNsUg" title="YouTube video player"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    allowfullscreen></iframe>
                                <iframe width="576" height="350" src="https://www.youtube.com/embed/aBeJyv__a4A"
                                    title="YouTube video player" frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    allowfullscreen></iframe>
                                <iframe class="mov3 item" width="576" height="350"
                                    src="https://www.youtube.com/embed/CsVU6LGBGAQ" title="YouTube video player"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    allowfullscreen></iframe>
                                <iframe class="mov4 item" width="576" height="350"
                                    src="https://www.youtube.com/embed/KLRVJGfJ9Ys" title="YouTube video player"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    allowfullscreen></iframe>
                            </div>

                        </div>
                        <ul>
                            <li class="click"><a href="#"><span></span></a></li>
                            <li class="click"><a href="#"><span></span></a></li>
                            <li class="click"><a href="#"><span></span></a></li>
                            <li class="click"><a href="#"><span></span></a></li>
                        </ul>
                    </div>
                </div>
                <div class="main-top-right">
                    <ul>
                        <li class="main-top-article-1 ">
                            <h3>世界地球日</h3>
                            <p>每年的4月22日，世界各地的數百萬人都會共同慶祝「世界地球日」，這是全球最盛大的環保節日，不分國籍的人們會相互提醒節能、環保，希望資源能夠永續，也一起為我們生活的地球盡一份心力，畢竟沒有人是全球生態的「局外人」。
                            </p>
                        </li>
                        <li class="main-top-article-2">
                            <h3>海洋永續才能年年有魚</h3>
                            <p>海洋資源的遭受破壞及威脅，都將直接或間接地對臺灣帶來衝擊。而海洋資源的保護工作是極為複雜的問題，必須採取及結合各類性質不同的措施，以求海洋能夠永續發展，資源不虞匱乏。
                            </p>
                        </li>
                        <li class="main-top-article-3">
                            <h3>該如何聰明的挑海鮮呢</h3>
                            <p>熱炒店聚餐時，有沒有什麼必點什麼菜色？
                                炒海瓜子？三杯透抽？奶油螃蟹🦀？
                                臺灣人有多愛吃海鮮，看看這些菜單就知道！
                                但是，吃那麼多海鮮，
                                我們真的吃對了嗎？</p>

                        </li>
                        <li class="main-top-article-4">
                            <h3>請留下一條生路給海洋</h3>
                            <p>每年除夕圍爐，魚是少不了的菜餚。但是你知道嗎？台灣沿近海的魚種，三十年來只剩下四分之一，當漁業資源萎縮、海洋生態瀕臨崩解，如何期待餐桌上能年年有魚？</p>

                        </li>
                    </ul>
                </div>
            </article>
        </section>
        <section class="main-mid">
            <div class="ship_mov">
                <button>
                    <div></div>
                    <img src="../image/news/boat.png" alt="">
                </button>
            </div>
            <div class="marine-bio">
                <div class="counter1"><img src="../image/news/dolphinfin.png" alt=""></div>

                <div class="counter2"><img src="../image/news/sharkfin.png" alt=""></div>

                <div class="counter3"><img src="../image/news/whaletail.png" alt=""></div>
            </div>
            <h1>最新優惠</h1>
            <div class="main-news">
                <ul>
                    <li id="main-news-1">
                        <div>

                            <img src="../image/news/celebtate.jpg" alt="">
                        </div>
                        <div>
                            <h5>歡慶5周年，不限金額88折</h5>
                            <p>即日起自4月5日，凡購買全網站商品，不限金額、不限類別享有88折優惠</p>
                            <p>2023.03.19</p>
                        </div>
                    </li>
                    <li id="main-news-2">
                        <div>

                            <img src="../image/news/valentin.jpg" alt="">
                        </div>

                        <div>
                            <h5>想準備情人節大餐!?</h5>
                            <p>歡慶情人節不知道要煮什麼嗎?來金速鱻選購就對喇!我們提供超過50種海鮮商品，不論是煎的、烤的、炸的應有盡有，歡迎選購。</p>
                            <p>2023.03.10</p>
                        </div>
                    </li>
                    <li id="main-news-3">
                        <div>

                            <img src="../image/news/pressure.jpg" alt="">
                        </div>
                        <div>
                            <h5>過完年假好痛苦，好憂鬱</h5>
                            <p>來點海鮮就對了呀!輕鬆一點新鮮海鮮送到你家!有了美食的陪伴還會憂鬱嗎?</p>
                            <p>2023.02.01</p>
                        </div>
                    </li>
                    <li id="main-news-4">
                        <div>

                            <img src="../image/news/time.jpg" alt="">
                        </div>

                        <div>
                            <h5>過年期間不打烊，24h正常出貨</h5>
                            <p>我們已準備好足夠的海鮮等你來買，不用擔心過年期間斷糧危機。</p>
                            <p>2023.01.15</p>
                        </div>
                    </li>
                    <li id="main-news-5">
                        <div>

                            <img src="../image/news/HNY.jpg" alt="">
                        </div>

                        <div>
                            <h5>慶祝農曆新年，全館免運優惠</h5>
                            <p>即日起自1月31日，凡購買全網站商品，不限金額享有免運優惠</p>
                            <p>2023.01.10</p>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="select-list">
                <ul>
                    <li class="click"><a class="color" href="#"><span></span></a></li>
                    <li class="click"><a href="#"><span></span></a></li>
                    <li class="click"><a href="#"><span></span></a></li>
                    <li class="click"><a href="#"><span></span></a></li>
                    <li class="click"><a href="#"><span></span></a></li>
                </ul>
            </div>
        </section>
        <section class="main-bottom">
            <div class="main-left-new">
                <h1>新鮮貨到</h1>
                <div class="movfish">
                    <img src="../image/news/new_fish1.png" alt="">
                    <img src="../image/news/new_fish2.png" alt="">
                    <img src="../image/news/new_fish3.png" alt="">
                    <img src="../image/news/new_fish1.png" alt="">
                    <img src="../image/news/new_fish2.png" alt="">
                    <img src="../image/news/new_fish3.png" alt="">
                </div>
            </div>

        </section>


    </div>
    <footer class="foot">
        <div class="foot-main">
            <nav>
                <ul class="navigator_foot">
                    <li>
                        <a href="https://peiyakao.github.io/Jingsueshan/">關於我們</a>
                        <ol>
                            <li><a href="https://peiyakao.github.io/Jingsueshan/">我們的目標</a></li>
                            <li><a href="https://peiyakao.github.io/Jingsueshan/">我們的行動</a></li>
                        </ol>

                    </li>
                    <li>
                        <a href="https://peiyakao.github.io/Jingsueshan/index/shoping_center">新鮮漁市</a>
                        <ol>
                            <li>
                                <a href="https://peiyakao.github.io/Jingsueshan/index/shoping_center">事先預約</a>
                            </li>
                        </ol>

                    </li>
                    <li><a href="https://peiyakao.github.io/Jingsueshan/index/seafood_guild">海鮮指南</a>
                        <ol>
                            <li>
                                <a href="https://peiyakao.github.io/Jingsueshan/index/seafood_guild">原則介紹</a>
                            </li>
                        </ol>
                    </li>
                    <li><a href="https://peiyakao.github.io/Jingsueshan/index/membercenter">會員中心</a></li>
                    <li><a href="https://peiyakao.github.io/Jingsueshan/index/news">最新消息</a></li>
                </ul>
            </nav>
        </div>

        <div class="foot-bottom">
            <a href="https://peiyakao.github.io/Jingsueshan/" class="logo"></a>
            <ul class="foot-p">
                <li>地址:新北市石門區楓林路527號1~2樓</li>
                <li>電話:(02)2638-1122</li>
                <li>客服信箱:cupeiya@jinsushan.com.tw</li>
                <li>營業時間:24小時全年無休</li>
                <li>Line官方群組</li>
            </ul>
            <img src="../image/index/QRCODE.png" alt="">
            <p class="article-2">本網站為緯育TibaMe前端工程師班第O期學員專題作品，本平台僅供學習、展示之用。</p>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

    <script>
        $(function () {
            let mov_count = 0;
            let movie_total_w = $(".mov1").width() * 4;
            let article_total_w = $(".main-top-right li").width() * 4;
            //top movie auto play
            const movie_player = setInterval(function () {
                if (mov_count == 0) {
                    $(".mov").css("left", `-${mov_count * movie_total_w / 4}px`);
                    $(".main-top-right ul").css("left", `-${mov_count * article_total_w / 4}px`);
                    for (let j = 0; j < main_right_movie_a.length; j++) {
                        main_right_movie_a[j].classList.remove("color");
                    }
                    main_right_movie_a[0].classList.add("color");
                    mov_count++;
                } else if (mov_count == 1) {
                    $(".mov").css("left", `-${mov_count * movie_total_w / 4}px`);
                    $(".main-top-right ul").css("left", `-${mov_count * article_total_w / 4}px`);
                    for (let j = 0; j < main_right_movie_a.length; j++) {
                        main_right_movie_a[j].classList.remove("color");
                    }
                    main_right_movie_a[1].classList.add("color");
                    mov_count++;
                } else if (mov_count == 2) {
                    $(".mov").css("left", `-${mov_count * movie_total_w / 4}px`);
                    $(".main-top-right ul").css("left", `-${mov_count * article_total_w / 4}px`);
                    for (let j = 0; j < main_right_movie_a.length; j++) {
                        main_right_movie_a[j].classList.remove("color");
                    }
                    main_right_movie_a[2].classList.add("color");
                    mov_count++;
                } else if (mov_count == 3) {
                    $(".mov").css("left", `-${mov_count * movie_total_w / 4}px`);
                    $(".main-top-right ul").css("left", `-${mov_count * article_total_w / 4}px`);
                    for (let j = 0; j < main_right_movie_a.length; j++) {
                        main_right_movie_a[j].classList.remove("color");
                    }
                    main_right_movie_a[3].classList.add("color");
                    mov_count = 0;
                }
            }, 4000);
            //bottom news
            let movfish_total_w = $(".movfish").width();
            let mov_left = 0;
            const new_merchandise =
                setInterval(function () {
                    if (mov_left > (movfish_total_w / 2)) {
                        mov_left = 0;
                        $(".movfish").css("left", `-${mov_left}px`);
                    } else {
                        mov_left += 40;
                        $(".movfish").css("left", `-${mov_left}px`);
                    }
                }, 1000);

            $(".click a").eq(0).on("click", function (e) {
                e.preventDefault();
                $(".mov").css("left", `0px`);
                $(".main-top-right ul").css("left", `0px`);
                for (let j = 0; j < main_right_movie_a.length; j++) {
                    main_right_movie_a[j].classList.remove("color");
                }
                main_right_movie_a[0].classList.add("color");

            });
            $(".click a").eq(1).on("click", function (e) {
                e.preventDefault();
                $(".mov").css("left", `-${1 * movie_total_w / 4}px`);
                $(".main-top-right ul").css("left", `-${1 * article_total_w / 4}px`);
                for (let j = 0; j < main_right_movie_a.length; j++) {
                    main_right_movie_a[j].classList.remove("color");
                }
                main_right_movie_a[1].classList.add("color");
            });
            $(".click a").eq(2).on("click", function (e) {
                e.preventDefault();
                $(".mov").css("left", `-${2 * movie_total_w / 4}px`);
                $(".main-top-right ul").css("left", `-${2 * article_total_w / 4}px`);
                for (let j = 0; j < main_right_movie_a.length; j++) {
                    main_right_movie_a[j].classList.remove("color");
                }
                main_right_movie_a[2].classList.add("color");
            });
            $(".click a").eq(3).on("click", function (e) {
                e.preventDefault();
                $(".mov").css("left", `-${3 * movie_total_w / 4}px`);
                $(".main-top-right ul").css("left", `-${3 * article_total_w / 4}px`);
                for (let j = 0; j < main_right_movie_a.length; j++) {
                    main_right_movie_a[j].classList.remove("color");
                }
                main_right_movie_a[3].classList.add("color");
            });



        });

        let main_news_top =
            parseInt(document.querySelector(".main-news").getBoundingClientRect().top + window.pageYOffset - document.documentElement.clientTop);
        //window sroll at certain height,some information appear
        if (window.innerWidth > 800) {
            window.addEventListener("scroll",
                function () {
                    let scroll_distance = parseInt(window.scrollY);
                    if (scroll_distance - main_news_top < 1200) {
                        $(".ship_mov button").css("height", `${scroll_distance - main_news_top + 200}px`);

                    }

                    if (scroll_distance > 400) {
                        document.querySelectorAll(".main-news ul li")[0].classList.add("active-l");
                        $(".ship_mov img").addClass("mov2");
                    }
                    if (scroll_distance - main_news_top > 70) {
                        $(".counter1").css("opacity", "1");
                    }
                    if (scroll_distance > 650) {
                        document.querySelectorAll(".main-news ul li")[1].classList.add("active-r");
                    }
                    if (scroll_distance - main_news_top > 670) {
                        $(".counter2").css("opacity", "1");
                    }
                    if (scroll_distance > 850) {
                        document.querySelectorAll(".main-news ul li")[2].classList.add("active-l");
                    }
                    if (scroll_distance - main_news_top > 1070) {
                        $(".counter3").css("opacity", "1");
                    }
                    if (scroll_distance > 1100) {
                        document.querySelectorAll(".main-news ul li")[3].classList.add("active-r");

                    }
                    if (scroll_distance > 1350) {
                        document.querySelectorAll(".main-news ul li")[4].classList.add("active-l");
                    }

                });
        }

        document.querySelector(".ship_mov button img").addEventListener("click", function () {
            window.scrollTo({
                top: 0,
                behavior: "smooth"
            });
        });
        //detect mouse drag
        let moveLen = 0;
        const mouse_drag = function () {
            let down = false;
            let initialPositionX = 0;
            let endPositionX = 0;
            for (i = 0; i < document.querySelectorAll(".main-top-right ul li").length; i++) {
                document.querySelectorAll(".main-top-right ul li")[i].addEventListener("touchstart", handleMouseDown);
                document.querySelectorAll(".main-top-right ul li")[i].addEventListener("touchend", handleMouseUp);
                document.querySelectorAll(".main-top-right ul li")[i].addEventListener("touchmove", handleMouseMove);
            }

            function handleMouseDown(e) {
                down = true;
                initialPositionX = e.touches[0].clientX;
            }
            function handleMouseUp(e) {
                if (down) {
                    endPositionX = e.changedTouches[0].clientX;
                    moveLen = endPositionX - initialPositionX;
                    down = false;
                    let style = this.offsetLeft;
                    console.log(moveLen);
                    if (moveLen < 0 && style < 1000) {
                        this.closest("ul").style.left = `-${style + 380}px`;
                    } else if (moveLen < 0 && style > 1000) {

                    }
                    else {
                        document.querySelector(".main-top-right ul").style.left = `-${style - 380}px`;
                    };
                }
            }
            function handleMouseMove(e) {
                if (down) {
                    endPositionX = e.touches[0].clientX;
                }
            };

        };

        if (window.innerWidth < 420) {
            mouse_drag();
        }
        let rotate = 0;
        $(".ham").on("click", function () {
            const toTop = document.querySelector(".to-top button");
            if (!rotate) {
                $(".ham-2").css("opacity", "0");
                $(".ham-2").toggle();
                $(".ham-1").css({ "rotate": "45deg", "background-color": "#29a6ff" });
                $(".ham-3").css({ "rotate": "-45deg", "background-color": "#29a6ff" });
                $("nav").slideToggle("slow");
                rotate = 1;
            } else {
                $(".ham-2").toggle();
                $(".ham-2").css("opacity", "1");
                $(".ham-1").css({ "rotate": "0deg", "background-color": "#000000" });
                $(".ham-3").css({ "rotate": "0deg", "background-color": "#000000" });
                $("nav").slideToggle("slow");
                rotate = 0;
            }

        });

        //lasted discount
        let select_list_a = document.querySelectorAll(".select-list ul a");
        let select_list_width = document.querySelector(".main-news ul").offsetWidth;
        for (let i = 0; i < select_list_a.length; i++) {
            select_list_a[i].addEventListener("click", function (e) {

                e.preventDefault();
                document.querySelector(".main-news ul").style.left = `-${i * select_list_width / select_list_a.length}px`;
                for (let j = 0; j < select_list_a.length; j++) {
                    select_list_a[j].classList.remove("color");
                }
                this.classList.add("color");
            });
        }
        let main_right_movie_a = document.querySelectorAll(".main-right-movie ul a");
        console.log(main_right_movie_a[0]);




    </script>
</body>

</html>